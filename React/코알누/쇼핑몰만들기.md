# 7. 세번째 프로젝트 : 쇼핑몰 웹사이트 만들기

## 🧙‍♀️ 강의록

### 🟣 라우터 세팅

- 프로젝트 본격 시작 전 해야할 일 정리
    1. 전체 상품 페이지, 로그인, 상품상세페이지
    2. 네비게이션 바 만들기
    3. 전체 상품페이지에서는 전체 상품을 볼 수 있다
    4. 로그인 버튼 클릭 시 로그인 페이지 노출
    5. 상품디테일 클릭 시 로그인이 안되있을 경우 로그인 페이지 노출
    6. 로그인 완료 시 상품 디테일 페이지 노출
    7. 로그아웃 버튼 클릭 시 로그아웃
    8. 로그아웃 시 상품 디테일 페이지 볼 수 없으며 다시 로그인 페이지 노출
    9. 로그인 시 로그아웃 노출 로그아웃 시 로그인 노출
    10. 상품 검색 기능
- 본격 라우터 세팅!
    1. 리액트 라우터 설치
    2. index.js 라우터 적용
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/a9ec8544-53da-4ac8-b3ef-4c3eedc6268a/image.png)
        
    3. App.js에서 라우터 만들기
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/acc71608-dd3e-42d5-bcaa-12304eb7ae3e/image.png)
        

### 🟣 상단 메뉴 만들기

- 각 페이지에 동일하게 들어가지만 중복해서 넣지 않도록 라우터 위에 넣어줌
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/e6c92909-1456-4650-adb0-185c463c6ef8/image.png)
    
- 네비게이션 컴포넌트 만들기
- 네비게이션 제작
    
    [Get Started](https://docs.fontawesome.com/v5/web/setup/get-started)
    
    [[React] FontAwesome 사용하기](https://0lrlokr.tistory.com/141)
    
- 배열로 메뉴 만들기
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/7b0230c8-5e5b-4de3-9050-aef9f6ec4dd5/image.png)
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/e449fcc7-f1a1-412b-80c8-40cd1056acfd/image.png)
    
- 조건부 렌더링
    - 자바스크립트 조건문을 사용해 특정 조건이 참(true)일 때는 특정 컴포넌트를 렌더링, 그렇지 않을 때는 다른 컴포넌트 또는 아무것도 렌더링하지 않는다.
    - 방법
        1. if문사용
        2. 삼항연산자(조건? 참  : 거짓 )
        3. && 연산자 : 조건이 참일 때만 컴포넌트 렌더링 거짓일 때는 아무것도 렌더링 x
            
            ```jsx
            import 'bootstrap/dist/css/bootstrap.min.css';
            import { Route, Routes, useLocation } from 'react-router-dom';
            import './App.css';
            import NAV from './component/Nav';
            import BoxPage from './page/BoxPage';
            import HomePage from './page/HomePage';
            import Login from './page/Login';
            import ProductAll from './page/ProductAll';
            import ProductDetail from './page/ProductDetail';
            
            function App() {
              const location = useLocation();
              
              //location.pathname.startsWith(path) : 경로가 해당 문자열로 시작하는지 확인
              const showNav = ["/login", "/shop", "/product"].some(path => location.pathname.startsWith(path));
            
              return (
                <div className="App">
            	    **//조건부 렌더링
                  {showNav && <NAV />}**
                  <Routes>
                    <Route path="/" element={<HomePage/>}></Route>
                    <Route path="/BoxPage" element={<BoxPage/>}></Route>
                    <Route path="/login" element={<Login/>}></Route>
                    <Route path="/shop" element={<ProductAll/>}></Route>
                    <Route path="/product/:id" element={<ProductDetail/>}></Route>
                  </Routes>
                </div>
              );
            }
            
            export default App;
            
            ```
            

### 🟣 Json Server 소개

[npm: json-server](https://www.npmjs.com/package/json-server)

- Json Server : 데이터만 등록하면 api 호출 및 정보 노출 가능한 패키지
- json server 다운로드
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/1dee7efd-6d3a-4201-b496-3ae3b14d6c01/image.png)
    
- json 데이터 넣어주기
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/db77cff0-9a45-4992-b0eb-b7fbdc096ffd/image.png)
    
- json server 실행
    
    npm start를 통해 리액트를 실행시켜 주듯이 json-server도 시작을 해줘야함!
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/46d86d80-67f6-4389-b851-4a37b389a229/image.png)
    
- 어떻게하면 이 서버에서 데이터를 받을 수 있을까?
    
    npm start를 통해 리액트를 실행시켜 주듯이 json-server도 시작을 해줘야함!
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/46d86d80-67f6-4389-b851-4a37b389a229/image.png)
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/66e65ac6-fe06-4e5d-8629-1bd2fe092b4a/image.png)
    
- 서버 시작하기
    
    ```jsx
    $ npx json-server db.json
    npx json-server --watch db.json ---port 3000
    ```
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/8727d21b-99c0-40ca-9b9a-3e4274d7a8a6/image.png)
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/2f1538fb-df5b-46d3-a212-b58a741a190b/image.png)
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/cde3fbc4-9676-4b73-bde6-6d692d0408e1/image.png)
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/803391ce-707a-4e7a-af12-d32017b0f47b/image.png)
    

### 🟣 api 부르기

- api를 불러서 보여주자!
    - api 호출은 useEffect 사용
        
        ```jsx
        useEffect(() => {}, [])
        //useEffect는 2개의 인자를 갔는다. 하나는 함수~ 하나는 배열
        ```
        
        ```jsx
        const getProducts = async() => {
        	let url = `http://localhost:3000/products`;
        	let response = await fetch(url);  //url을 fetch해주세요!
        	let data = await response.json(); //response에서 json을 뽑아주세요!
        	console.log(data);
        }
        ```
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/6060ae05-aa6d-4a8a-bd4c-7233e421bb34/image.png)
        
    - 데이터를 UI에 보여주자!
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/15adb54b-be0d-44ed-89a4-815d054de221/image.png)
        
        - 카드 컴포넌트 만들기