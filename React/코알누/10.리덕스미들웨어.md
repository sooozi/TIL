### ðŸŸ£ redux middleware ì†Œê°œ

- ë¦¬ë•ìŠ¤ êµ¬ì¡°
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/381f348b-de63-4c62-b635-4ec6d20262ae/image.png)
    
    **ðŸ“› ë¦¬ë•ìŠ¤ ë‹¨ì  : ëª¨ë“ ê²Œ ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬ë¨! /** ì½”ë“œê°€ ìˆœì°¨ì ìœ¼ë¡œ ì§„í–‰ â‡’ ë¹„ë™ê¸° ìž‘ì—… ë¶ˆê°€ ã… ã… 
    
- ë¹„ë™ê¸° ìž‘ì—…ì„ ìœ„í•´ íƒ„ìƒí•œ **ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´**(ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì•„ë‹ˆë¼ ì»¨ì…‰!)
    
    ë¯¸ë“¤ì›¨ì–´(ì¤‘ê°„ì—ì„œ ê°€ë¡œì±„ëŠ” ëŠë‚Œ)ì—ì„œ ë§Œë“œëŠ” í•¨ìˆ˜ë¥¼ ë¹„ë™ê¸° ì²˜ë¦¬í•¨!
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/6b65095c-df03-40ba-824a-d2240b1a01a9/image.png)
    
- ë¯¸ë“¤ì›¨ì–´ëŠ” 2ê°œì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë³´ìœ 
    1. redux-saga
    2. **redux-thunk (ìš°ë¦¬ê°€ ë°°ìš¸ ë¼ì´ë¸ŒëŸ¬ë¦¬!) â†’** ì¡°ê¸ˆ ë” ì‰½ê³  ìž‘ì€ í”„ë¡œì íŠ¸ì— ì í•©í•˜ê¸° ë•Œë¬¸
- **redux-thunk**
    
    https://github.com/reduxjs/redux-thunk
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/f5a31624-571a-4ab9-a1da-fffbe6c33421/image.png)
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/a10d4c27-160b-486f-9ad3-8d2fd1791e5e/image.png)
    

### ðŸŸ£ ë¦¬ë•ìŠ¤ ì„¸íŒ…

- ì§€ë‚œ ì‡¼í•‘ëª° ì›¹ì‚¬ì´íŠ¸ë¥¼ ë¦¬ë•ìŠ¤ë¡œ ë°”ê¿”ë³´ìž!
1. redux, react-redux ì„¤ì¹˜
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/b46849d7-850d-463e-9e0a-ede6ceb9b731/image.png)
    
2. redux-thunk ì„¤ì¹˜
    
    ```jsx
    npm install redux-thunk
    ```
    
3. ë³¸ê²© redux ì„¸íŒ…í•˜ê¸°!
    1. provider ì„¸íŒ… â‡’ index.js, store ê¸°ì–µ!
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/52b9cd21-9e11-4e6c-9409-691d6cd2c604/image.png)
        
    2. store ë§Œë“¤ê¸° â‡’ í´ë” ìƒì„±, createStoreê¸°ì–µ!
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/a12c6299-39ff-4b34-9da2-4c5eaa4c123e/image.png)
        
    3. reducer ë§Œë“¤ê¸° â‡’ reducerëŠ” ì¸ìž 2ê°œ(state, action)ë¥¼ ê°€ì ¸ê°„ë‹¤.
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/29ebc47e-36f5-4837-a5d1-b4b9a004a04d/image.png)
        
        reducerì— ë§žê²Œ store ìˆ˜ì •
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/723a502b-048e-45b0-ba6d-af3c852194b6/image.png)
        
        store import
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/5b57da8c-a68e-48e9-8c5b-f79e31df6f52/image.png)
        
    4. ë¯¸ë“¤ì›¨ì–´ ì„¸íŒ… â‡’ store
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/e15d4567-5229-4fd2-900c-0a94dd79637d/image.png)
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/17f94d85-b991-403b-b9a9-1d4b51576ad8/image.png)
        

### ðŸŸ£ ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´ ì ìš©í•˜ê¸°

- getProductsí•¨ìˆ˜(ìƒí’ˆ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ëŠ” ë¶€ë¶„)ë¥¼ ë¯¸ë“¤ì›¨ì–´ë¡œ ì˜®ê¸°ê¸°
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/e2a21d74-28de-4b6b-9b0f-0c3e75968842/image.png)
    
    1. ë¯¸ë“¤ì›¨ì–´ í•¨ìˆ˜ ë§Œë“¤ê¸° (action creator)
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/1335b313-bb0a-484a-ae2b-8ec1545acb80/image.png)
        
        ðŸ“› ê°ì²´ë¡œ ë³´ë‚´ëŠ” ì´ìœ  : ì—¬ëŸ¬ê°œì˜ í•¨ìˆ˜ê°€ ë“¤ì–´ê°ˆ ì˜ˆì •ì´ê¸° ë•Œë¬¸ì— ì—¬ëŸ¬ê°œì˜ í•¨ìˆ˜ë¥¼ í•˜ë‚˜ì˜ ê°ì²´ì— ë‹´ì•„ì„œ ë¦¬í„´í•  ì˜ˆì •!
        
    2. ì›ëž˜ í•¨ìˆ˜ëŠ” ë¯¸ë“¤ì›¨ì–´ë¥¼ ë¶ˆëŸ¬ì£¼ëŠ” ì—­í• ë¡œ ë³€ê²½
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/09ba3233-562d-4cf9-9e6b-0d536d6278e0/image.png)
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/05ed73fd-57e4-4160-80e6-addead7d5fe2/image.png)
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/05909a4f-34f0-4dca-b6a7-f628bd2793f9/image.png)
        
    3. ë°›ì€ ë°ì´í„° reducerë¡œ ë³´ë‚´ê¸°
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/f95df94f-a599-41d0-a24a-0e8e1d5ad862/image.png)
        
    4. reducerì— ì¼€ì´ìŠ¤ë¥¼ ì¶”ê°€
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/f95df94f-a599-41d0-a24a-0e8e1d5ad862/image.png)
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/4badcd0c-6dbe-47b9-86a7-a1f884a2e32b/image.png)
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/0e0713be-f304-4101-8f44-de0ae58a8eb7/image.png)
        

### ðŸŸ£ combineReducer : reducer ì—¬ëŸ¬ê°œë¥¼ í•©ì¹˜ìž!

- ë¡œê·¸ì¸ íŒŒíŠ¸ ìˆ˜ì • â‡’ ë¡œê·¸ì¸ì„ í•˜ë©´ id, password, authenticate ì •ë³´ ë³€ê²½!
    1. ë¡œê·¸ì¸ íŽ˜ì´ì§€ ìˆ˜ì •
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/0165b403-b973-428f-a9a6-bc42c4c228df/image.png)
        
    2. ë¡œê·¸ì¸ ë¯¸ë“¤ì›¨ì–´ í•¨ìˆ˜ ë§Œë“¤ê¸°
        - productì™€ëŠ” ê´€ë ¨ ì—†ëŠ” í•¨ìˆ˜ë‹ˆê¹Œ ë”°ë¡œ íŽ˜ì´ì§€ ìƒì„±
            
            ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/8cc53f29-c6d6-45cf-ba3d-1d7edc81009d/image.png)
            
            ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/ca2aacd8-6927-4aca-a977-d8150262ee8c/image.png)
            
            ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/56cd7504-d8b6-4511-bf47-16ca9ea34580/image.png)
            
            id, passwordê°’ë„ ê°™ì´ ì „ë‹¬ í•„ìš”! â‡’ useStateë¡œ ì½ì–´ì˜¬ ìˆ˜ ìžˆë‹¤.
            
            â‡’ useStateë¡œ ì½ì–´ì˜¨ ê°’ì„ dispatchê°€ loginí•¨ìˆ˜ë¡œ ë³´ë‚´ì¤Œ!
            
            ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/255680d3-c3b8-4f36-8ec4-a8556cabad9d/image.png)
            
            ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/605b1992-d2c4-4f9d-ad9d-41086aa2977f/image.png)
            
            ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/ec84c3f8-0db2-48a2-a556-1c8be0b25d8d/image.png)
            
            - ì•¡ì…˜ ë§Œë“¤ì–´ì£¼ê¸°!
            
            ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/77765b48-edf7-42a1-898d-7c79e806a971/image.png)
            
            - reducerë¡œ í–‰ë™ì§€ì¹¨ ë§Œë“¤ì–´ì£¼ê¸°
                
                authenticateëž‘ productëž‘ì€ ê¸°ëŠ¥ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ íŽ˜ì´ì§€ë¥¼ ìƒì„±í•´ì„œ ë§Œë“¤ì–´ ì¤€ë‹¤!
                
                ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/41959ace-470c-4413-85ee-11a33383db60/image.png)
                
                ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/84206654-8de3-49de-a285-f6307390bcf6/image.png)
                
            
    3. ë¬¸ì œ ë°œìƒ! ë¡œê·¸ì¸ì´ actionê¹Œì§„ ì™”ì§€ë§Œ reducerì—ëŠ” ëª»ê°”ë‹¤ ã… ã… 
        
        storeì— productReducerë§Œ ì ìš©ë˜ì–´ìžˆê¸° ë•Œë¬¸!!!!!
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/a39ddd7f-5587-4ef7-8e2f-887fb1d9255c/image.png)
        
        **â­ reduceríŒŒì¼ì´ ì—¬ëŸ¬ê°œì¸ ê²½ìš° reducerë“¤ì„ í•©ì³ì¤˜ì•¼í•œë‹¤! â†’ í•©ì¹œê±¸ storeì— ì ìš©!**
        
    4. **â­ reducer íŒŒì¼ í•©ì¹˜ê¸°!**
        
        [combineReducers | Redux](https://ko.redux.js.org/api/combinereducers/)
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/1f136a5a-7abf-471f-a63e-ef9aa916d2ec/image.png)
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/00959364-5f43-4fc1-a861-ba55938aa258/image.png)
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/7625ea9f-b430-4ac0-9e49-7e60830843f4/image.png)
        
        ì–´ë–¤ reducerì— ìžˆëŠ” stateë¥¼ ì½ì–´ì˜¬ ê±´ì§€ ë§í•´ì¤˜ì•¼ ì˜¤ë¥˜ê°€ ì•ˆë‚¨!
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/2dc57114-83ce-4dfd-9a55-b8e6a76e325c/image.png)
        

### ðŸŸ£ ë¦¬ë•ìŠ¤ ìœ ìš©í•œ íˆ´ ì†Œê°œ : Devtool

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/f8a3ffa4-b9cb-497d-94a9-0de69a37ba99/image.png)

[npm: @redux-devtools/extension](https://www.npmjs.com/package/@redux-devtools/extension?activeTab=readme)

- stateê°€ ë°”ë€ŒëŠ”ê±¸ í™•ì¸í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/f258667d-eb02-4880-bc62-1ccee71736cc/image.png)
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/c3ecf071-088a-4cd1-95e1-f34e20b91475/image.png)
    
    ë¡œê·¸ì¸ì„ í•˜ë©´ ê°œë°œìžë„êµ¬ì— ê²°ê³¼ì™€ ë°ì´í„°ê°€ ë…¸ì¶œ!
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/a79ba3df-9d53-4f53-9434-914dee2b96ae/image.png)
    

### ðŸŸ£ ì´ ì •ë¦¬

ë¦¬ë•ìŠ¤ : ë™ê¸°ì ìœ¼ë¡œ state ì²˜ë¦¬ â‡’ apiëŠ” ê¸°ë‹¤ë ¤ì¤˜ì•¼í•  ê²ƒ ì•„ë‹ˆì•¼â€¦.

ê·¸ëž˜ì„œ! ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´ ê·¸ ì¤‘ì—ì„œë„ ë¦¬ë•ìŠ¤ thunkë¥¼ ì¼ë‹¤!

async í•¨ìˆ˜ë“¤ì„ ë¯¸ë“¤ì›¨ì–´ì—ì„œ ë‹¤ë¤„ì£¼ë©´ ë¨

### ðŸŸ£ ê³¼ì œ : getProductDetailí•¨ìˆ˜ ë¯¸ë“¤ì›¨ì–´ë¡œ ì˜®ê¸°ê¸° / PrivateRouterì™€ App.js ìˆ˜ì •í•˜ê¸°

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/b2afbff9-1dba-4652-8a02-873560449a2f/image.png)

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/7d2001f1-d96c-47d6-932c-e2c6a78ab92a/image.png)

[6. ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´ Mini ê³¼ì œ - HackMD](https://hackmd.io/@oW_dDxdsRoSpl0M64Tfg2g/BkP5TACmc)

### ðŸŸ£ ë³´ë„ˆìŠ¤ íŠ¸ëž™ : ìµœì‹  ë¦¬ë•ìŠ¤ë¥¼ ì‚¬ìš©í•˜ìž - redux toolkit

- redux â†’ redux toolkitìœ¼ë¡œ ë°”ê¿”ë³´ìž!
    
    [Redux Toolkit | Redux Toolkit](https://redux-toolkit.js.org/)
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/d8154a04-88b1-4d45-85f3-d69b944630be/image.png)
    
    ```jsx
    import { createSlice } from '@reduxjs/toolkit'  //createslice : reducer ë§Œë“œëŠ” ê±¸ ë„ì™€ì¤Œ!
    
    const todosSlice = createSlice({
      **name**: 'todos',
      **initialState**: [], //reducerì—ì„œ ì‚¬ìš©ë  stateê°’ì„ ì •ì˜í•´ì£¼ë©´ ëœë‹¤!
      **reducers**: {    //if else, switch ì¨ì„œ ë§Œë“  ì¼€ì´ìŠ¤ë“¤ì„ ë‹¤ í•¨ìˆ˜ë¡œ ë§Œë“ ë‹¤!
        todoAdded(state, action) {
          state.push({
            id: action.payload.id,
            text: action.payload.text,
            completed: false,
          })
        },
        todoToggled(state, action) {
          const todo = state.find((todo) => todo.id === action.payload)
          todo.completed = !todo.completed
        },
      },
    })
    
    export const { todoAdded, todoToggled } = todosSlice.actions
    export default todosSlice.reducer
    ```
    
    - reducer  ìˆ˜ì •
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/d437f632-a037-40a1-bf49-7e24050d6c3d/image.png)
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/0ce4cb8f-f1fd-4f76-b1a5-330a3bb741c6/image.png)
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/0f49585d-d471-4a29-9c1c-d14b02e04253/image.png)
        
    - store ìˆ˜ì •
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/2a1e8115-fbe8-46b9-9aa4-b3305c173672/image.png)
        
    - dispatch ìˆ˜ì •
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/681aabec-185e-44d0-b64b-3d352bfbfae8/2a1e8115-fbe8-46b9-9aa4-b3305c173672/image.png)
        

### ðŸŸ£ ë³´ë„ˆìŠ¤ íŠ¸ëž™ : creataAsyncThunk

[Usage With TypeScript | Redux Toolkit](https://redux-toolkit.js.org/usage/usage-with-typescript#createasyncthunk)

ðŸ’¡ **ì°¸ê³  URL**